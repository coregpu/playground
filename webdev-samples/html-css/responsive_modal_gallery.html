<!DOCTYPE html>
<html>
    <head>
        <title> Responsive Modal Image Gallery </title>
        <meta charset="utf-8">
        <meta name="description" content="A responsive gallery where clicking an image opens it in a modal window">
        <meta name="author" content="Dzanan Bajgoric">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
            * {
                box-sizing: border-box;
            }
            
            .clearfix:after {
                content: ".";
                visibility: hidden; 
                display: block; 
                height: 0; 
                clear: both;
            }
            
            h1#page_title {
                text-align: center;
            }
            
            p.emphasized_text {
                font-weight: bold;
                font-style: italic;
                font-size: large;
            }
            
            div.responsive {
                white-space: nowrap;
                width: 25%;
                float: left;
                padding: 5px;
                margin-bottom: 15px;
                text-align: center;
                background-color: hsla(190, 0%, 92%, 1);
                background-clip: content-box;
            }
            
            div.responsive > .inner_container {
                width: 100%;
                cursor: pointer;
            }
            
            div.responsive > .inner_container:hover {
                -webkit-box-shadow: 0px 5px 25px grey;
                -moz-box-shadow: 10px 10px grey;
                box-shadow: 0px 0px 25px grey;
            }
            
            div.responsive > .inner_container > .gallery_img {
                width: 100%;
                height: 130px;
            }
            
            div.responsive > .inner_container > .text_container {
                display: block;
                padding: 15px 5px;
                font-size: 16px;
            }
            
            .modal_window {
                position: fixed;
                left: 0;
                top: 0;
                width: 100%;
                height: 100%;
                background-color: hsla(0, 0%, 0%, 0.9);
                color: white;
                overflow: auto;
                visibility: hidden;
            }
            
            div.modal_window > div.responsive_modal_container {
                margin-top: 10%;
                width: 60%;
                margin-left: auto;
                margin-right: auto;
                text-align: center;
            }
            
            div.modal_window > div.responsive_modal_container > .modal_image {
                width: 100%;
                height: 60vh;
                min-height: 300px;
            }
            
            div.modal_window > div.responsive_modal_container > .modal_text {
                display: block;
                padding: 15px 5px;
                font-size: x-large;
            }
            
            div.modal_window > div.exit_button {
                position: absolute;
                font-family: 'Comic Sans MS', cursive, sans-serif;
                top: 10px;
                right: 20px;
                font-weight: 900;
                font-size: 40px;
                cursor: pointer;
            }
            
            div.modal_window > div.exit_button:hover {
                color: hsl(0, 0%, 65%);
            }
            
            @media screen and (min-width: 1101px) {
                div.responsive > .inner_container > .gallery_img {
                    height: 200px;
                }
            }
            
            @media screen and (max-width: 1100px) {
                div.responsive > .inner_container > .gallery_img {
                    height: 130px;
                }
            }
            
            @media screen and (max-width: 750px) {
                div.responsive {
                    width: 50%;
                }
                
                div.responsive > .inner_container > .gallery_img {
                    height: 200px;
                }
            }
            
            @media screen and (max-width: 400px) {
                div.responsive {
                    width: 100%;
                    float: none;
                }
                
                div.modal_window > div.responsive_modal_container {
                    margin: none;
                    margin-top: 20%;
                    width: 100%;
                }
                
                div.modal_window > div.responsive_modal_container > .modal_image {
                    height: 200px;
                }
            }
        </style>
        <script>
            window.addEventListener("load", () => {
                // Register event listeners for the gallery images
                var gallery_img_containers = document.getElementsByClassName("inner_container");
                var modal_window = document.getElementsByClassName("modal_window")[0];
                var modal_img = document.getElementsByClassName("modal_image")[0];
                var modal_text = document.getElementsByClassName("modal_text")[0];
                
                for (var container of gallery_img_containers) {
                    container.addEventListener("click", (event) => {
                        // Setup the image to be shown in the modal window
                        var gallery_img = event.target.parentElement.getElementsByClassName("gallery_img")[0];
                        modal_img.src = gallery_img.src;
                        modal_img.alt = gallery_img.alt;
                        modal_img.width = gallery_img.width;
                        modal_img.height = gallery_img.height;
                        
                        // Copy over the text that's written below the image
                        modal_text.innerHTML =
                            event.target.parentElement.getElementsByClassName("text_container")[0].innerHTML;
                        
                        // Show the modal window
                        modal_window.style.visibility = "visible";
                    });
                }
                
                // Register event listener for the modal window exit button
                document.getElementsByClassName("exit_button")[0].addEventListener("click", () => {
                    modal_window.style.visibility = "hidden";
                });
            });
        </script>
    </head>
    <body>
        <h1 id="page_title"> Responsive Modal Image Gallery </h1>
        <p class="emphasized_text">
            Resize the page to see the responsive effect. Click on an image to open it in the modal window.
        </p>
        <div class="clearfix">
            <div class="responsive">
                <div class="inner_container">
                    <img class="gallery_img" src="multimedia/bermuda.jpg" alt="The Islands of Bermuda" width="900" height="600">
                    <div class="text_container">
                        The Islands of Bermuda 
                    </div>
                </div>
            </div>
            <div class="responsive">
                <div class="inner_container">
                    <img class="gallery_img" src="multimedia/cinque_terre.jpg" alt="Cinque Terre, Italy" width="800" height="800">
                    <div class="text_container">
                        Cinque Terre, Italy 
                    </div>
                </div>
            </div>
            <div class="responsive">
                <div class="inner_container">
                    <img class="gallery_img" src="multimedia/corsica_france.jpeg" alt="Corsica, France" width="300" height="168">
                    <div class="text_container">
                        Corsica, France 
                    </div>
                </div>
            </div>
            <div class="responsive">
                <div class="inner_container">
                    <img class="gallery_img" src="multimedia/french_riviera.jpg" alt="French Riviera, France" width="3000" height="2002">
                    <div class="text_container">
                        French Riviera, France 
                    </div>
                </div>
            </div>
            <div class="responsive">
                <div class="inner_container">
                    <img class="gallery_img" src="multimedia/lake_como.jpg" alt="Lake Como, Italy" width="1129" height="752">
                    <div class="text_container">
                        Lake Como, Italy 
                    </div>
                </div>
            </div>
            <div class="responsive">
                <div class="inner_container">
                    <img class="gallery_img" src="multimedia/mostar_bih.jpg" alt="Mostar, Bosnia and Herzegovina" width="1300" height="867">
                    <div class="text_container">
                        Mostar, BiH 
                    </div>
                </div>
            </div>
            <div class="responsive">
                <div class="inner_container">
                    <img class="gallery_img" src="multimedia/praiano.jpg" alt="Praiano, Italy" width="1024" height="599">
                    <div class="text_container">
                        Praiano, Italy 
                    </div>
                </div>
            </div>
            <div class="responsive">
                <div class="inner_container">
                    <img class="gallery_img" src="multimedia/sandals_resorts.jpg" alt="Sandals Resorts, Jamaica" width="800" height="420">
                    <div class="text_container">
                        Sandals Resorts, Jamaica 
                    </div>
                </div>
            </div>
        </div>
        <p>
            This page implements a responsive modal image gallery. The page shows four images per row if viewport is greater than 750 pixels, 2 images per row if viewport is between 400 and 750 pixels and one image per row if viewport is lower than 400 pixels.
        </p>
        <p>
            Try clicking on an image to open it in a fullscreen modal window.
        </p>
        
        <div class="modal_window">
            <div class="responsive_modal_container">
                <img class="modal_image">
                <div class="modal_text"></div>
            </div>
            <div class="exit_button"> &times; </div>
        </div>
    </body>
</html>